<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta name="generator" content="Hugo 0.25.1" />
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> Films - Age &amp; Gender </title>

  
  <meta name="description" content="An analysis of actor and director characteristcs; specifically investigating whether acting skill improves with age and whether female actors are cast for younger roles."> 
  
  
  
  
  

    

  <meta name="author" content="">


  <meta property="og:title" content="Films - Age &amp; Gender" />
<meta property="og:description" content="An analysis of actor and director characteristcs; specifically investigating whether acting skill improves with age and whether female actors are cast for younger roles." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/lab/films/" />



<meta property="article:published_time" content="2017-08-18T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2017-08-18T00:00:00&#43;00:00"/>











  




  
  
  
  
  

  <link rel="canonical" href="/lab/films/">  

  <link rel="icon" type="text/png" href="img/bishop.png"/>

  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Inconsolata" />
  <link href="/css/font.css" rel="stylesheet" type="text/css">
  <link href="/css/kube.min.css" rel="stylesheet" type="text/css">
  <link href="/css/kube.legenda.css" rel="stylesheet" type="text/css">
  <link href="/css/highlight.css" rel="stylesheet" type="text/css">
  <link href="/css/master.css" rel="stylesheet" type="text/css">
  <link href="/css/kube.demo.css" rel="stylesheet" type="text/css">
  
  <link href="/css/custom.css" rel="stylesheet" type="text/css">

  
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

 



  <script type="text/javascript" src="/js/tocbot.min.js"></script>
</head>


<body class="page-kube">
  <header> <div class="show-sm">
    <div id="nav-toggle-box">
      <div id="nav-toggle-brand">
        <a href="/">Bish </a>
      </div><a data-component="toggleme" data-target="#top" href="#" id="nav-toggle"><i class="kube-menu"></i></a>
    </div>
  </div>
  <div class="hide-sm" id="top">
    <div id="top-brand" style="text-align: center; padding-top: 15px">
      <h2 ><a href="/" title="Head Home" style="text-decoration: none">Bish</a></h2>
    </div>
    <nav id="top-nav-main">
      <ul>
       
       
    <li><a href="/aboutme/" >About Me</a></li>
    
    <li><a href="/lab/" >Lab</a></li>
    
    <li><a href="/shiny/" >Shiny</a></li>
    
      </ul>
    </nav>

    </nav>
  </div> </header>
  <main>

<div id="hero" class="wrap">
  <h1>Films - Age &amp; Gender</h1>
    <p>An analysis of actor and director characteristcs; specifically investigating whether acting skill improves with age and whether female actors are cast for younger roles.</p>
</div>
<ul id="posts">

 <script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<script src="/rmarkdown-libs/proj4js/proj4.js"></script>
<link href="/rmarkdown-libs/highcharts/css/motion.css" rel="stylesheet" />
<script src="/rmarkdown-libs/highcharts/highstock.js"></script>
<script src="/rmarkdown-libs/highcharts/highcharts-3d.js"></script>
<script src="/rmarkdown-libs/highcharts/highcharts-more.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/annotations.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/broken-axis.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/data.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/drilldown.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/exporting.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/funnel.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/heatmap.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/map.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/no-data-to-display.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/offline-exporting.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/solid-gauge.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/treemap.js"></script>
<script src="/rmarkdown-libs/highcharts/plugins/annotations.js"></script>
<script src="/rmarkdown-libs/highcharts/plugins/draggable-legend.js"></script>
<script src="/rmarkdown-libs/highcharts/plugins/draggable-points.js"></script>
<script src="/rmarkdown-libs/highcharts/plugins/export-csv.js"></script>
<script src="/rmarkdown-libs/highcharts/plugins/grouped-categories.js"></script>
<script src="/rmarkdown-libs/highcharts/plugins/motion.js"></script>
<script src="/rmarkdown-libs/highcharts/plugins/pattern-fill-v2.js"></script>
<script src="/rmarkdown-libs/highcharts/plugins/tooltip-delay.js"></script>
<script src="/rmarkdown-libs/highcharts/custom/reset.js"></script>
<script src="/rmarkdown-libs/highcharts/custom/symbols-extra.js"></script>
<script src="/rmarkdown-libs/highcharts/custom/text-symbols.js"></script>
<link href="/rmarkdown-libs/fontawesome/font-awesome.min.css" rel="stylesheet" />
<link href="/rmarkdown-libs/htmlwdgtgrid/htmlwdgtgrid.css" rel="stylesheet" />
<script src="/rmarkdown-libs/highchart-binding/highchart.js"></script>


<div id="questions" class="section level1">
<h1>Questions?</h1>
<p>Let’s say we had a couple of questions about actors and directors:</p>
<blockquote>
<p>Do actors and directors improve with age?</p>
</blockquote>
<blockquote>
<p>Are female actors generally cast than their male counterparts?</p>
</blockquote>
<p>To answer these questions we’re going to need some data.</p>
</div>
<div id="housekeeping" class="section level1">
<h1>Housekeeping</h1>
<p>Let’s set ourselves up with some packages, themes and utility functions.</p>
<pre class="r"><code># Packages
library(readr)
library(dplyr)</code></pre>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<pre class="r"><code>library(tidyr)
library(gender)
library(stringr)
library(lubridate)</code></pre>
<pre><code>## 
## Attaching package: &#39;lubridate&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:base&#39;:
## 
##     date</code></pre>
<pre class="r"><code>library(highcharter)</code></pre>
<pre><code>## Highcharts (www.highcharts.com) is a Highsoft software product which is</code></pre>
<pre><code>## not free for commercial and Governmental use</code></pre>
<pre class="r"><code># Rmarkdown Options
knitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)

# For reproducibility
set.seed(123)

# Convert an R vector to string JS vector
convert_js_vec = function(vec) {
  js_string = vec %&gt;% round(4) %&gt;% paste(collapse = &quot;,&quot;)
  return(JS( paste0(&quot;[&quot;, js_string, &quot;]&quot;) ))
}

# Highcharts theme
source(&quot;https://raw.githubusercontent.com/TMBish/lab_posts/master/highcharts_theme.R&quot;)
tmbish = high_tmbish()</code></pre>
</div>
<div id="data" class="section level1">
<h1>Data</h1>
<p>I started with imdb user <strong>hagennelson’s</strong> list of <a href="http://www.imdb.com/list/ls058011111/">top 1000 actors</a> and other imdb user <strong>earthanime’s</strong> list of <a href="http://www.imdb.com/list/ls062419846/">top 250 directors</a>. Both lists span across generations, from the ancient (Ethel Barrymore and Alfred Hitchcock) to the modern (Chloë Grace Moretz and Christopher Nolan).</p>
<p>I then developed code (which I’ll cover in a different post) to scrape data from the rotten tomatoes pages of the above individuals’ films. The final dataset includes <strong>12,258</strong> films and <strong>1,233</strong> indviduals.</p>
<p>Altough we’ll only use a few of these variables I brought in a few extras for some future investigations:</p>
<table style="width:29%;">
<colgroup>
<col width="12%" />
<col width="16%" />
</colgroup>
<thead>
<tr class="header">
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>url</td>
<td>URL extension on rotten tomatoes website</td>
</tr>
<tr class="even">
<td>year</td>
<td>Film production year</td>
</tr>
<tr class="odd">
<td>title</td>
<td>Film title</td>
</tr>
<tr class="even">
<td>reviews</td>
<td>Count of formal critic reviews of film</td>
</tr>
<tr class="odd">
<td>tomatometer</td>
<td>Percentage of favourable reviews</td>
</tr>
<tr class="even">
<td>av_rating</td>
<td>Average rating of film out of 10</td>
</tr>
<tr class="odd">
<td>audience</td>
<td>The non-critic plebian equivolent of the tomatometer</td>
</tr>
<tr class="even">
<td>box_office</td>
<td>The box-office revenue</td>
</tr>
<tr class="odd">
<td>director</td>
<td>The film’s director</td>
</tr>
<tr class="even">
<td>actor_1:actor_6</td>
<td>The 6 top actors according to rotten tomatoes internal ranking (seems like screen time)</td>
</tr>
</tbody>
</table>
<div id="film-data" class="section level2">
<h2>Film Data</h2>
<p>We’ll load and take a peek at the film dataset:</p>
<pre class="r"><code># Load in films data from Github Repo
films = read_csv(&quot;https://raw.githubusercontent.com/TMBish/lab_posts/master/01_actor_careers/00_full_film_data.csv&quot;) %&gt;% filter(!is.na(title))</code></pre>
</div>
<div id="individual-data" class="section level2">
<h2>Individual Data</h2>
<p>Now we’ll load the individual data.</p>
<p>Unfortunately, because the Rotten Tomatoes devs are a bunch of politically correct SJWs, gender isn’t provided on their film bio pages so we’ll have to be creative. The <code>gender</code> package in R allows you to infer a person’s gender from their first name and DOB. The result is a probabilistic best guess of that individuals most likely gender given their first name and DOB.</p>
<pre class="r"><code> library(gender)
 library(stringr)
 library(lubridate)
 
 film_folk = read_csv(&quot;https://raw.githubusercontent.com/TMBish/lab_posts/master/01_actor_careers/00_actors_directors.csv&quot;)
 
 # Clean some data quality issues on the DOB
 film_folk[film_folk$dob &lt; as.Date(&quot;1880-01-01&quot;), &quot;dob&quot;] = as.Date(&quot;1880-01-01&quot;)
 
 # Grep out first name and dob year for the gender function
 film_folk =
   film_folk %&gt;%
   mutate(
     first_name = str_extract(name, &quot;(?i)[a-z]+(?=\\s)&quot;),
     dob_year = year(dob)
   )
 
 # Distinct name, dob combos and predict gender
 genders =
   film_folk %&gt;%
   distinct(first_name, dob_year) %&gt;%
   gender_df(name_col = &quot;first_name&quot;, year_col = &quot;dob_year&quot;) %&gt;%
   select(&quot;first_name&quot; = name, gender, &quot;dob_year&quot; = year_min)</code></pre>
<p>We should sense check the gender mapping to make sure the package is doing an adequate job at this gender mapping. Let’s take a random 10 person sample to test:</p>
<pre class="r"><code>genders %&gt;%
  sample_n(10) %&gt;%
  knitr::kable()</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">first_name</th>
<th align="left">gender</th>
<th align="right">dob_year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Sandy</td>
<td align="left">female</td>
<td align="right">1937</td>
</tr>
<tr class="even">
<td align="left">Tom</td>
<td align="left">male</td>
<td align="right">1977</td>
</tr>
<tr class="odd">
<td align="left">Sissy</td>
<td align="left">female</td>
<td align="right">1949</td>
</tr>
<tr class="even">
<td align="left">Amber</td>
<td align="left">female</td>
<td align="right">1986</td>
</tr>
<tr class="odd">
<td align="left">Jennifer</td>
<td align="left">female</td>
<td align="right">1990</td>
</tr>
<tr class="even">
<td align="left">Joseph</td>
<td align="left">male</td>
<td align="right">1896</td>
</tr>
<tr class="odd">
<td align="left">Kenneth</td>
<td align="left">male</td>
<td align="right">1960</td>
</tr>
<tr class="even">
<td align="left">Megan</td>
<td align="left">female</td>
<td align="right">1986</td>
</tr>
<tr class="odd">
<td align="left">Peter</td>
<td align="left">male</td>
<td align="right">1961</td>
</tr>
<tr class="even">
<td align="left">Bill</td>
<td align="left">male</td>
<td align="right">1955</td>
</tr>
</tbody>
</table>
<p>Things get dicey with a name like Sandy; however, the package obviously knows that most Sandys born in 1937 were female so we’ll have to trust it here. Otherwise the list is looking pretty, pretty, pretty good.</p>
<p>We’ll need to join this variable back to the individual data set.</p>
<pre class="r"><code># Join back the gender back to the main data
film_folk = 
  film_folk %&gt;%
  left_join(genders)</code></pre>
</div>
</div>
<div id="section" class="section level1">
<h1></h1>
</div>
<div id="q1.-gender-gap" class="section level1">
<h1>Q1. Gender Gap</h1>
<p>We’ve finally sorted out our source data. However, we still need to add a few variables to be able to answer this question. We need we’ll first need to calculate a person’s age at the time of their appearance in a film. We’ll then</p>
<pre class="r"><code># Chain a bunch of data wrangling operations
volume_data =
  films %&gt;% 
  select(title, year, tomatometer, director, actor_1:actor_6) %&gt;%
  gather(&quot;role&quot;, &quot;name&quot;, director, actor_1:actor_6) %&gt;%
  mutate(role = ifelse(role == &quot;director&quot;, &quot;Director&quot;, &quot;Actor&quot;)) %&gt;%
  inner_join(film_folk) %&gt;%
  mutate(
    age_at_production = year - dob_year
  ) %&gt;%
  filter(
    between(age_at_production, 10,100),
    !is.na(gender)
  ) %&gt;%
  select(name, gender, dob_year, age_at_production, year, role, tomatometer) %&gt;%
  mutate(
    category = case_when(
      role == &quot;Director&quot; ~ &quot;director&quot;,
      gender == &quot;male&quot; ~ &quot;male_actor&quot;,
      TRUE ~ &quot;female_actor&quot;
    )
  ) %&gt;% 
  group_by(category, age_at_production) %&gt;%
  summarise(
    films = n()
  ) %&gt;%
  group_by(category) %&gt;%
  mutate(
    percentage = films / sum(films)
  )</code></pre>
<div id="age_series_chart">
<pre class="r"><code># Shape data for presentation
chart_data = 
  volume_data %&gt;%
  select(-films) %&gt;%
  spread(category, percentage) %&gt;%
  mutate(
    director = ifelse(!is.na(director), director, 0),
    female_actor = ifelse(!is.na(female_actor), female_actor, 0),
    male_actor = ifelse(!is.na(male_actor), male_actor, 0),
    director_cdf = cumsum(director),
    female_actor_cdf = cumsum(female_actor),
    male_actor_cdf = cumsum(male_actor)
  )


# For the javascript client side interactivity on the age series chart
female_cdf = chart_data$female_actor_cdf %&gt;% convert_js_vec()
female_pdf = chart_data$female_actor %&gt;% convert_js_vec()
male_cdf = chart_data$male_actor_cdf %&gt;% convert_js_vec()
male_pdf = chart_data$male_actor %&gt;% convert_js_vec()
dir_cdf = chart_data$director_cdf %&gt;% convert_js_vec()
dir_pdf = chart_data$director %&gt;% convert_js_vec()

# Create chart
age_dist_chart = 
  highchart() %&gt;%
  hc_add_theme(tmbish) %&gt;%
  hc_chart(
    animation = list(duration = 2000)
  ) %&gt;%
  hc_xAxis(
    categories = chart_data$age_at_production,
    title = list(text = &quot;Age at Production&quot;)
  ) %&gt;%
  hc_yAxis(
    title = list(text = &quot;Probablity Density&quot;),
    labels = list(formatter = JS(&quot;function(){return(Math.round(this.value * 1000) / 10 + &#39;%&#39;)}&quot;))
  ) %&gt;%
  hc_title(text = &quot;Female actors&quot;) %&gt;%
  hc_subtitle(text = &quot;Comparing male actors, (male) directors and female actors&quot;) %&gt;%
  hc_add_series(
    name = &quot;Director&quot;, 
    type = &quot;spline&quot;,
    data = chart_data$director,
    marker = list(enabled = FALSE)
  ) %&gt;%
  hc_add_series(
    name = &quot;Male Actor&quot;,
    type = &quot;spline&quot;,
    data = chart_data$male_actor,
    marker = list(enabled = FALSE)
  ) %&gt;%
  hc_add_series(
    name = &quot;Female Actor&quot;,
    type = &quot;area&quot;,
    data = chart_data$female_actor,
    zIndex = -10,
    marker = list(enabled = FALSE),
    fillOpacity = 0.5
  )

age_dist_chart</code></pre>
<div id="htmlwidget-1" style="width:100%;height:500px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"hc_opts":{"title":{"text":"Female actors"},"yAxis":{"title":{"text":"Probablity Density"},"labels":{"formatter":"function(){return(Math.round(this.value * 1000) / 10 + '%')}"}},"credits":{"enabled":false},"exporting":{"enabled":false},"plotOptions":{"series":{"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"},"bubble":{"minSize":5,"maxSize":25}},"annotationsOptions":{"enabledButtons":false},"tooltip":{"delayForDisplay":10},"chart":{"animation":{"duration":2000}},"xAxis":{"categories":[10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,92,93,94,95,96,97,98,99],"title":{"text":"Age at Production"}},"subtitle":{"text":"Comparing male actors, (male) directors and female actors"},"series":[{"data":[0.000475059382422803,0.000475059382422803,0.000475059382422803,0.000475059382422803,0.00142517814726841,0.000950118764845606,0.000475059382422803,0.000950118764845606,0.000950118764845606,0.000475059382422803,0,0.000475059382422803,0.000950118764845606,0.00237529691211401,0.00142517814726841,0.00190023752969121,0.00380047505938242,0.00475059382422803,0.00712589073634204,0.00997624703087886,0.0109263657957245,0.0156769596199525,0.0147268408551069,0.0171021377672209,0.0228028503562945,0.0237529691211401,0.0218527315914489,0.0299287410926366,0.0256532066508314,0.0242280285035629,0.0308788598574822,0.0299287410926366,0.028978622327791,0.0323040380047506,0.033729216152019,0.0342042755344418,0.026603325415677,0.0323040380047506,0.0275534441805226,0.0327790973871734,0.0228028503562945,0.0261282660332542,0.0308788598574822,0.0280285035629454,0.0251781472684086,0.0209026128266033,0.0194774346793349,0.0218527315914489,0.0247030878859857,0.0228028503562945,0.0194774346793349,0.0142517814726841,0.0185273159144893,0.0147268408551069,0.0133016627078385,0.0152019002375297,0.0114014251781473,0.0114014251781473,0.0104513064133017,0.0118764845605701,0.00855106888361045,0.00665083135391924,0.00475059382422803,0.00475059382422803,0.00427553444180523,0.00760095011876485,0.00427553444180523,0.00332541567695962,0.00285035629453682,0.00285035629453682,0.00190023752969121,0.00380047505938242,0.00142517814726841,0.000475059382422803,0.000950118764845606,0.000475059382422803,0.000475059382422803,0,0,0,0,0,0.000475059382422803,0,0.000475059382422803,0.000475059382422803,0,0,0],"name":"Director","type":"spline","marker":{"enabled":false}},{"data":[0.000594530321046373,0.00118906064209275,0.00089179548156956,0.00118906064209275,0.00163495838287753,0.00178359096313912,0.00237812128418549,0.00185790725326992,0.00289833531510107,0.00349286563614744,0.00505350772889417,0.00579667063020214,0.00862068965517241,0.00876932223543401,0.0102556480380499,0.013525564803805,0.0164982164090369,0.0157550535077289,0.0159780023781213,0.0181331747919144,0.0200653983353151,0.0209571938168847,0.0231866825208086,0.0253418549346017,0.0251189060642093,0.027422711058264,0.0274970273483948,0.0269768133174792,0.0287604042806183,0.0285374554102259,0.0273483947681332,0.0306183115338882,0.0263822829964328,0.0274970273483948,0.0278686087990488,0.0251932223543401,0.0232609988109394,0.0253418549346017,0.0251189060642093,0.0211058263971463,0.0228151010701546,0.0185047562425684,0.0202883472057075,0.0191736028537455,0.0179845422116528,0.0173156956004756,0.01679548156956,0.0165725326991677,0.0148632580261593,0.0137485136741974,0.0149375743162901,0.0130053507728894,0.0107015457788347,0.0121135552913199,0.0107015457788347,0.0111474435196195,0.00943816884661118,0.00810047562425684,0.00906658739595719,0.00817479191438763,0.00906658739595719,0.00735731272294887,0.00631688466111772,0.00713436385255648,0.00572235434007134,0.0045332936979786,0.00379013079667063,0.00379013079667063,0.00282401902497027,0.00312128418549346,0.00208085612366231,0.00156064209274673,0.00141200951248514,0.00148632580261593,0.000743162901307967,0.000594530321046373,0.000297265160523187,0.000743162901307967,0.00044589774078478,0.00022294887039239,7.43162901307967e-005,0.00044589774078478,7.43162901307967e-005,7.43162901307967e-005,0.000371581450653983,0,7.43162901307967e-005,0.000148632580261593,0.000148632580261593],"name":"Male Actor","type":"spline","marker":{"enabled":false}},{"data":[0.0012847965738758,0.00171306209850107,0.00285510349750178,0.00299785867237687,0.00342612419700214,0.00485367594575303,0.0065667380442541,0.00827980014275517,0.011134903640257,0.0147037830121342,0.0179871520342612,0.017558886509636,0.0219842969307637,0.0219842969307637,0.0294075660242684,0.0278372591006424,0.0328336902212705,0.0332619557458958,0.0289793004996431,0.0321199143468951,0.0341184867951463,0.0316916488222698,0.0315488936473947,0.0299785867237687,0.0278372591006424,0.0325481798715203,0.027266238401142,0.0268379728765168,0.0248394004282655,0.0245538900785153,0.0231263383297645,0.0261241970021413,0.0216987865810136,0.0199857244825125,0.0204139900071378,0.0194147037830121,0.0162740899357602,0.0164168451106353,0.0164168451106353,0.0145610278372591,0.0115631691648822,0.0109921484653819,0.00956459671663098,0.00985010706638116,0.0118486795146324,0.0107066381156317,0.00856531049250535,0.0092790863668808,0.007994289793005,0.00742326909350464,0.00613847251962884,0.00756602426837973,0.00542469664525339,0.00556745182012848,0.00585296216987866,0.00599571734475375,0.00499643112062812,0.00585296216987866,0.00713775874375446,0.0039971448965025,0.00456816559600286,0.00228408279800143,0.0027123483226267,0.00256959314775161,0.00242683797287652,0.00314061384725196,0.00228408279800143,0.00228408279800143,0.00171306209850107,0.00199857244825125,0.00157030692362598,0.00157030692362598,0.000999286224125625,0.0012847965738758,0.000999286224125625,0.000571020699500357,0.000571020699500357,0.000856531049250535,0.000428265524625268,0.000571020699500357,0.000428265524625268,0.000142755174875089,0,0,0.000142755174875089,0,0,0,0.000142755174875089],"name":"Female Actor","type":"area","zIndex":-10,"marker":{"enabled":false},"fillOpacity":0.5}]},"theme":{"chart":{"backgroundColor":["white"],"style":{"fontFamily":"Droid Sans"}},"colors":["#414141","#FF6A5C","#CCDFC8","#056571"],"title":{"style":{"fontWeight":"bold","color":"#414141"},"align":"left"},"xAxis":{"gridLineColor":"#2196F3","lineColor":"#2196F3","gridLineWidth":0.5,"lineWidth":0,"title":{"style":{"fontWeight":"bold"}}},"yAxis":{"gridLineColor":"#2196F3","lineColor":"#2196F3","gridLineWidth":0.5,"lineWidth":0,"title":{"style":{"weight":"bold"}}},"subtitle":{"style":{"fontStyle":"italic","color":"#414141"},"align":"left"},"tooltip":{"borderWidth":0,"shape":"square","valueDecimals":2}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":"Droid+Sans","debug":false},"evals":["hc_opts.yAxis.labels.formatter"],"jsHooks":[]}</script>
</div>
<button class="“button" secondary outline” id="update_age_series">
Show Cumulative Distribution
</button>
</div>
<div id="q2.-acting-and-directing-as-a-skill" class="section level1">
<h1>Q2. Acting and Directing as a skill</h1>
<blockquote>
<p>Hypothesis 2: acting and directing skills aren’t tied to a person’s physical attributes so shouldn’t experience deterioration in age. In fact you would expect these artists to improve their skills with age.</p>
</blockquote>
<div id="measuring-performance" class="section level2">
<h2>Measuring Performance</h2>
<p>To investigate our hypothesis we must make a couple of assumptions. Since we don’t have an individual actor / director performance (like we have in sports) we’ll have to assume an actor or director can have a tangible affect on the quality of the movie they appear in; there are obviously many other factors but this seems like a relatively safe assumption.</p>
<p>Further - for actors - we’ll have to limit the dataset to actors that played an important role in the film. To implement an <code>actor performance == film quality</code> approach the actors need to be prominent enough so as to be able to affect the overall quality of the film. So while Michael Cera’s cameo in <strong>This is the End</strong> was high quality it can’t be said that he influenced the rotten tomatoes rating of the film on his own.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/qIKPJlKHKxg" frameborder="0" allowfullscreen>
</iframe>
<p>After looking through a few rotten tomatoes pages it seems limiting to the top 3 actors in a given film is a reasonable cut-off for influncial performances.</p>
<blockquote>
<p>INSERT EXAMPLES FROM A FEW ROTTEN TOMATOES PAGES</p>
</blockquote>
</div>
<div id="methodology" class="section level2">
<h2>Methodology</h2>
<p>For every person in the dataset we follow the following recipe:</p>
<ol style="list-style-type: decimal">
<li>Produce a dataset for each actor with films that:</li>
</ol>
<ul>
<li>We have a tomatometer score for</li>
<li>And the actor is in the top 3 of rotten tomatoes credits</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Calculate the <code>mean</code> tomatometer for all of this person’s films;</li>
<li>Calculate the age the person was at the release of each film;</li>
<li>For every film calculate what <code>percentage %</code> this tomato rating is above or below this person’s <code>mean</code> (called a tomato index)</li>
</ol>
<p>Producing a dataset like this:</p>
<table>
<thead>
<tr class="header">
<th align="left">title</th>
<th align="left">name</th>
<th align="right">year</th>
<th align="right">age_at_production</th>
<th align="right">tomatometer</th>
<th align="right">average_tomato</th>
<th align="right">tomato_index</th>
<th align="left">index</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Fences</td>
<td align="left">Denzel Washington</td>
<td align="right">2016</td>
<td align="right">62</td>
<td align="right">94</td>
<td align="right">68</td>
<td align="right">1.3823529</td>
<td align="left">138%</td>
</tr>
<tr class="even">
<td align="left">He Got Game</td>
<td align="left">Denzel Washington</td>
<td align="right">1998</td>
<td align="right">44</td>
<td align="right">80</td>
<td align="right">68</td>
<td align="right">1.1764706</td>
<td align="left">118%</td>
</tr>
<tr class="odd">
<td align="left">Déjà Vu</td>
<td align="left">Denzel Washington</td>
<td align="right">2006</td>
<td align="right">52</td>
<td align="right">55</td>
<td align="right">68</td>
<td align="right">0.8088235</td>
<td align="left">81%</td>
</tr>
<tr class="even">
<td align="left">John Q</td>
<td align="left">Denzel Washington</td>
<td align="right">2002</td>
<td align="right">48</td>
<td align="right">23</td>
<td align="right">68</td>
<td align="right">0.3382353</td>
<td align="left">34%</td>
</tr>
<tr class="odd">
<td align="left">Mo’ Better Blues</td>
<td align="left">Denzel Washington</td>
<td align="right">1990</td>
<td align="right">36</td>
<td align="right">73</td>
<td align="right">68</td>
<td align="right">1.0735294</td>
<td align="left">107%</td>
</tr>
<tr class="even">
<td align="left">The Book of Eli</td>
<td align="left">Denzel Washington</td>
<td align="right">2010</td>
<td align="right">56</td>
<td align="right">47</td>
<td align="right">68</td>
<td align="right">0.6911765</td>
<td align="left">69%</td>
</tr>
<tr class="odd">
<td align="left">Philadelphia</td>
<td align="left">Denzel Washington</td>
<td align="right">1993</td>
<td align="right">39</td>
<td align="right">78</td>
<td align="right">68</td>
<td align="right">1.1470588</td>
<td align="left">115%</td>
</tr>
<tr class="even">
<td align="left">For Queen &amp; Country</td>
<td align="left">Denzel Washington</td>
<td align="right">1989</td>
<td align="right">35</td>
<td align="right">31</td>
<td align="right">68</td>
<td align="right">0.4558824</td>
<td align="left">46%</td>
</tr>
<tr class="odd">
<td align="left">Virtuosity</td>
<td align="left">Denzel Washington</td>
<td align="right">1995</td>
<td align="right">41</td>
<td align="right">33</td>
<td align="right">68</td>
<td align="right">0.4852941</td>
<td align="left">49%</td>
</tr>
<tr class="even">
<td align="left">The Taking of Pelham 1-2-3</td>
<td align="left">Denzel Washington</td>
<td align="right">2009</td>
<td align="right">55</td>
<td align="right">51</td>
<td align="right">68</td>
<td align="right">0.7500000</td>
<td align="left">75%</td>
</tr>
</tbody>
</table>
</div>
<div id="results" class="section level2">
<h2>Results</h2>
<pre class="r"><code># tewe
rating_set =
  films %&gt;% 
  select(title, year, tomatometer, director, actor_1:actor_3) %&gt;%
  gather(&quot;role&quot;, &quot;name&quot;, director, actor_1:actor_3) %&gt;%
  inner_join(film_folk) %&gt;%
  filter(!is.na(gender)) %&gt;%
  mutate(
    age_at_production = year - dob_year,
    category = case_when(
      role == &quot;director&quot; ~ &quot;director&quot;,
      gender == &quot;male&quot; ~ &quot;male_actor&quot;,
      TRUE ~ &quot;female_actor&quot;
    )
  ) %&gt;%
  filter(between(age_at_production, 15,85)) %&gt;%
  select(name, gender, age_at_production, category, tomatometer) %&gt;%
  group_by(name) %&gt;% 
  mutate(
    average_tomato  = median(tomatometer),
    films = n()
  ) %&gt;% ungroup() %&gt;%
  filter(films &gt;= 5) 

rating_volumes = 
  rating_set %&gt;%
  group_by(age_at_production) %&gt;%
  summarise(films = -1*n())
  
  
rating_scores = 
  rating_set %&gt;%
  mutate(
    tomato_index = tomatometer / average_tomato) %&gt;%
  group_by(category, age_at_production) %&gt;%
  summarise(rating = median(tomato_index)) %&gt;%
  spread(category, rating)

# LOESS Trend Line
loess_fit = loess(value ~ age_at_production , 
                  data = rating_scores %&gt;% gather(&quot;role&quot;, &quot;value&quot;, -age_at_production)
                  # %&gt;% group_by(age_at_production) %&gt;% summarise(value = mean(value, na.rm = TRUE))
)

predictions = loess_fit %&gt;% predict(seq(15,85))


volume_chart = 
  highchart() %&gt;%
  hc_add_theme(tmbish) %&gt;%
  hc_chart(height = &quot;300&quot;) %&gt;%
  hc_xAxis(categories = rating_volumes$age_at_production, opposite = TRUE) %&gt;%
  hc_yAxis(
    title = list(text = &quot;Total Films in Dataset&quot;),
    labels = list(formatter = JS(&quot;function(){return(-1 * this.value)}&quot;))    
    ) %&gt;%
  hc_title(text = &quot;&quot;) %&gt;%
  hc_add_series(
    name = &quot;Volumes&quot;,
    type = &quot;area&quot;,
    data = rating_volumes$films,
    marker = list(enabled = FALSE)
  ) %&gt;% 
  hc_legend(enabled = FALSE)

rating_chart = 
  highchart() %&gt;%
  hc_add_theme(tmbish) %&gt;%
  hc_chart(
    animation = list(duration = 2000)
  ) %&gt;%
  hc_xAxis(
    categories = rating_scores$age_at_production,
    title = list(text = &quot;Age at Production&quot;)
  ) %&gt;%
  hc_yAxis(
    title = list(text = &quot;Probablity Density&quot;),
    min = 0.6
  ) %&gt;%
  hc_title(text = &quot;Female actors&quot;) %&gt;%
  hc_subtitle(text = &quot;Comparing male actors, (male) directors and female actors&quot;) %&gt;%
  hc_add_series(
    name = &quot;Director&quot;,
    type = &quot;scatter&quot;,
    data = rating_scores$director,
    marker = list(radius = 3, symbol = &quot;circle&quot;)
  ) %&gt;%
  hc_add_series(
    name = &quot;Male Actor&quot;,
    type = &quot;scatter&quot;,
    data = rating_scores$male_actor,
    marker = list(radius = 3, symbol = &quot;circle&quot;)
  ) %&gt;%
  hc_add_series(
    name = &quot;Female Actor&quot;,
    type = &quot;scatter&quot;,
    data = rating_scores$female_actor,
    marker = list(radius = 3, symbol = &quot;circle&quot;)
  ) %&gt;%
  hc_add_series(
    name = &quot;Trend&quot;,
    type = &quot;spline&quot;,
    data = predictions,
    color = &quot;#000000&quot;,
    marker = list(enabled = FALSE)
  )</code></pre>
<div id="htmlwidget-2" style="width:100%;height:500px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"hc_opts":{"title":{"text":"Female actors"},"yAxis":{"title":{"text":"Probablity Density"},"min":0.6},"credits":{"enabled":false},"exporting":{"enabled":false},"plotOptions":{"series":{"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"},"bubble":{"minSize":5,"maxSize":25}},"annotationsOptions":{"enabledButtons":false},"tooltip":{"delayForDisplay":10},"chart":{"animation":{"duration":2000}},"xAxis":{"categories":[15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85],"title":{"text":"Age at Production"}},"subtitle":{"text":"Comparing male actors, (male) directors and female actors"},"series":[{"data":[1.08974358974359,0.935897435897436,0.602564102564103,1.01282051282051,null,null,1,1.17948717948718,0.882978723404255,0.988153197013957,0.882978723404255,1.06311475409836,1.02632911392405,1.03191489361702,1.05454545454545,1,1.03092783505155,1.04411764705882,1.09302325581395,1.04325581395349,1.02197802197802,1.06600580270793,1.03142136433428,1.03092783505155,1.04712041884817,1.00273224043716,1.05454545454545,1.01030927835052,1,1,1,1,1.00564971751412,1.01570680628272,1,0.988372093023256,0.967302209550962,1,0.933683439179287,1,0.972602739726027,1.02083333333333,0.936708860759494,0.864583333333333,0.961748633879781,0.947976878612717,0.985294117647059,0.959537572254335,1.00621118012422,0.930232558139535,0.903472222222222,0.902173913043478,0.797157622739018,0.831488781079442,0.988505747126437,0.949055158324821,0.780120088761258,0.738176899666683,1.00317566438242,0.982658959537572,0.721421000224842,0.906832298136646,1.01734104046243,0.859112233850595,0.917136394643306,0.709854851031322,1.05532131927916,0.787096774193548,1.13548387096774,0.456839634176163,0.894409937888199],"name":"Director","type":"scatter","marker":{"radius":3,"symbol":"circle"}},{"data":[1.16233766233766,1.12380952380952,0.889795918367347,0.667080745341615,1.18918918918919,1.19146341463415,1.02336363636364,1.01785714285714,1.02469135802469,1.01194709145214,0.935064935064935,1,1.07246376811594,1.04444444444444,1.09734513274336,1.10652173913043,1.04632929436921,1.0473174366617,1.04859010270775,1.04166666666667,1.00549450549451,1.01434676434676,1.02857142857143,1.04761904761905,1.05042372881356,1.03703703703704,1.0049504950495,1,1.01582751744766,1.03333333333333,1,1,0.984126984126984,1,0.994442900805779,1,1,0.989010989010989,0.945575712699,0.937794089968003,0.969072164948454,0.950689289501591,0.935483870967742,0.972527472527473,0.870156758355516,0.924501424501424,0.893856169260502,0.88989898989899,1,0.810810810810811,0.903614457831325,0.949640287769784,0.755905511811024,0.824742268041237,0.938053097345133,0.775,0.732996163236833,0.895522388059702,0.830127104087942,0.795180722891566,0.810810810810811,0.972029320987654,1.01587301587302,0.879120879120879,0.859154929577465,0.9453125,0.896808510638298,1,0.788683391320271,0.609375,1.08270676691729],"name":"Male Actor","type":"scatter","marker":{"radius":3,"symbol":"circle"}},{"data":[0.948717948717949,1.07020757020757,1.01410256410256,1.07087646652864,1,1.0784715750233,1.06195614340411,0.992125984251969,1.04166666666667,1.02898550724638,1.05153519130846,1,1.00735294117647,1,1.11731843575419,1.03176826535186,1,1.02068965517241,1.05154639175258,1.02963768115942,1,1.0272121436505,0.980769230769231,0.984375,1,1,0.951700454192977,0.986666666666667,0.92522561237645,0.983606557377049,0.876543209876543,0.964285714285714,0.969811893203884,0.935897435897436,0.993288590604027,0.940846824408468,1.00574712643678,0.960368085328872,1,0.9625,0.875,0.842105263157895,0.993589743589744,0.825174825174825,0.947368421052632,0.958333333333333,1,1.01461988304094,0.964028776978417,0.967948717948718,0.833333333333333,0.882352941176471,0.87378640776699,0.619047619047619,0.98018648018648,0.727272727272727,0.614393939393939,0.736383442265795,0.72463768115942,0.84297520661157,0.661870503597122,0.958677685950413,0.367722681359045,1.01960784313725,0.767665289256198,0.759889920880633,0.823529411764706,0.909090909090909,0.677352001965119,1,0.858036890645586],"name":"Female Actor","type":"scatter","marker":{"radius":3,"symbol":"circle"}},{"data":[0.994534313148654,0.998823306841281,1.00283915823665,1.00657551739018,1.01002603435731,1.01318435919347,1.01604414195408,1.01859903269458,1.02084268147039,1.02276658925801,1.02437460545905,1.0256789027666,1.02669165387377,1.02742503147365,1.02789120825936,1.028102356924,1.02807065016066,1.02780826066244,1.02719692025171,1.02614381054437,1.02469927892381,1.02291367277344,1.02083733947665,1.01852062641685,1.01601388097743,1.0133674505418,1.01063168249336,1.00775403527544,1.00465664044389,1.0013518550509,0.997852036148643,0.994169540789292,0.990316726025027,0.986305948908024,0.982149566490462,0.977859935824517,0.973323782800827,0.968454308839514,0.963303584286981,0.957923679489631,0.952366664793865,0.946684610546088,0.9409295870927,0.935153664780107,0.929408913954708,0.923391117182043,0.916892490401369,0.910109754019675,0.903239628443945,0.896478834081167,0.890024091338328,0.884072120622413,0.87881964234041,0.874463376899306,0.870666732909295,0.866987846643349,0.86346553000262,0.860138594888261,0.857045853201424,0.85422611684326,0.851718197714922,0.849560907717562,0.847793058752332,0.846434299463861,0.845463934841087,0.844860261301627,0.844601575263098,0.844666173143119,0.845032351359306,0.845678406329277,0.846582634470649],"name":"Trend","type":"spline","color":"#000000","marker":{"enabled":false}}]},"theme":{"chart":{"backgroundColor":["white"],"style":{"fontFamily":"Droid Sans"}},"colors":["#414141","#FF6A5C","#CCDFC8","#056571"],"title":{"style":{"fontWeight":"bold","color":"#414141"},"align":"left"},"xAxis":{"gridLineColor":"#2196F3","lineColor":"#2196F3","gridLineWidth":0.5,"lineWidth":0,"title":{"style":{"fontWeight":"bold"}}},"yAxis":{"gridLineColor":"#2196F3","lineColor":"#2196F3","gridLineWidth":0.5,"lineWidth":0,"title":{"style":{"weight":"bold"}}},"subtitle":{"style":{"fontStyle":"italic","color":"#414141"},"align":"left"},"tooltip":{"borderWidth":0,"shape":"square","valueDecimals":2}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":"Droid+Sans","debug":false},"evals":[],"jsHooks":[]}</script>
<div id="htmlwidget-3" style="width:100%;height:500px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-3">{"x":{"hc_opts":{"title":{"text":""},"yAxis":{"title":{"text":"Total Films in Dataset"},"labels":{"formatter":"function(){return(-1 * this.value)}"}},"credits":{"enabled":false},"exporting":{"enabled":false},"plotOptions":{"series":{"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"},"bubble":{"minSize":5,"maxSize":25}},"annotationsOptions":{"enabledButtons":false},"tooltip":{"delayForDisplay":10},"chart":{"height":"300"},"xAxis":{"categories":[15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85],"opposite":true},"series":[{"data":[-39,-45,-57,-68,-112,-140,-129,-199,-191,-255,-286,-331,-327,-328,-371,-411,-438,-442,-446,-475,-515,-488,-482,-487,-480,-486,-529,-461,-460,-450,-424,-388,-410,-397,-361,-319,-292,-311,-303,-288,-261,-244,-254,-226,-218,-198,-178,-151,-167,-152,-150,-123,-114,-126,-118,-120,-94,-71,-83,-69,-68,-46,-38,-38,-39,-28,-27,-19,-19,-13,-10],"name":"Volumes","type":"area","marker":{"enabled":false}}],"legend":{"enabled":false}},"theme":{"chart":{"backgroundColor":["white"],"style":{"fontFamily":"Droid Sans"}},"colors":["#414141","#FF6A5C","#CCDFC8","#056571"],"title":{"style":{"fontWeight":"bold","color":"#414141"},"align":"left"},"xAxis":{"gridLineColor":"#2196F3","lineColor":"#2196F3","gridLineWidth":0.5,"lineWidth":0,"title":{"style":{"fontWeight":"bold"}}},"yAxis":{"gridLineColor":"#2196F3","lineColor":"#2196F3","gridLineWidth":0.5,"lineWidth":0,"title":{"style":{"weight":"bold"}}},"subtitle":{"style":{"fontStyle":"italic","color":"#414141"},"align":"left"},"tooltip":{"borderWidth":0,"shape":"square","valueDecimals":2}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":"Droid+Sans","debug":false},"evals":["hc_opts.yAxis.labels.formatter"],"jsHooks":[]}</script>
<script>

$(document).ready(function() {

var show_cdf = false;

$("#update_age_series").click(function(){

var chart=$("#age_series_chart").find(".highchart").highcharts();

if (show_cdf) {

chart.yAxis[0].setExtremes(0,null);
chart.yAxis[0].setTitle({text:"Probability Density", redraw:false});
dir_pdf = [5e-04,5e-04,5e-04,5e-04,0.0014,0.001,5e-04,0.001,0.001,5e-04,0,5e-04,0.001,0.0024,0.0014,0.0019,0.0038,0.0048,0.0071,0.01,0.0109,0.0157,0.0147,0.0171,0.0228,0.0238,0.0219,0.0299,0.0257,0.0242,0.0309,0.0299,0.029,0.0323,0.0337,0.0342,0.0266,0.0323,0.0276,0.0328,0.0228,0.0261,0.0309,0.028,0.0252,0.0209,0.0195,0.0219,0.0247,0.0228,0.0195,0.0143,0.0185,0.0147,0.0133,0.0152,0.0114,0.0114,0.0105,0.0119,0.0086,0.0067,0.0048,0.0048,0.0043,0.0076,0.0043,0.0033,0.0029,0.0029,0.0019,0.0038,0.0014,5e-04,0.001,5e-04,5e-04,0,0,0,0,0,5e-04,0,5e-04,5e-04,0,0,0];
female_pdf = [0.0013,0.0017,0.0029,0.003,0.0034,0.0049,0.0066,0.0083,0.0111,0.0147,0.018,0.0176,0.022,0.022,0.0294,0.0278,0.0328,0.0333,0.029,0.0321,0.0341,0.0317,0.0315,0.03,0.0278,0.0325,0.0273,0.0268,0.0248,0.0246,0.0231,0.0261,0.0217,0.02,0.0204,0.0194,0.0163,0.0164,0.0164,0.0146,0.0116,0.011,0.0096,0.0099,0.0118,0.0107,0.0086,0.0093,0.008,0.0074,0.0061,0.0076,0.0054,0.0056,0.0059,0.006,0.005,0.0059,0.0071,0.004,0.0046,0.0023,0.0027,0.0026,0.0024,0.0031,0.0023,0.0023,0.0017,0.002,0.0016,0.0016,0.001,0.0013,0.001,6e-04,6e-04,9e-04,4e-04,6e-04,4e-04,1e-04,0,0,1e-04,0,0,0,1e-04];
male_pdf = [6e-04,0.0012,9e-04,0.0012,0.0016,0.0018,0.0024,0.0019,0.0029,0.0035,0.0051,0.0058,0.0086,0.0088,0.0103,0.0135,0.0165,0.0158,0.016,0.0181,0.0201,0.021,0.0232,0.0253,0.0251,0.0274,0.0275,0.027,0.0288,0.0285,0.0273,0.0306,0.0264,0.0275,0.0279,0.0252,0.0233,0.0253,0.0251,0.0211,0.0228,0.0185,0.0203,0.0192,0.018,0.0173,0.0168,0.0166,0.0149,0.0137,0.0149,0.013,0.0107,0.0121,0.0107,0.0111,0.0094,0.0081,0.0091,0.0082,0.0091,0.0074,0.0063,0.0071,0.0057,0.0045,0.0038,0.0038,0.0028,0.0031,0.0021,0.0016,0.0014,0.0015,7e-04,6e-04,3e-04,7e-04,4e-04,2e-04,1e-04,4e-04,1e-04,1e-04,4e-04,0,1e-04,1e-04,1e-04];
chart.series[0].setData(dir_pdf);
chart.series[1].setData(male_pdf);
chart.series[2].setData(female_pdf);
$("#update_age_series").html("Show Cumulative Distribution");

} else {

chart.yAxis[0].setExtremes(0,1);
chart.yAxis[0].setTitle({text:"Cumulative Probability", redraw:false});
dir_cdf = [5e-04,0.001,0.0014,0.0019,0.0033,0.0043,0.0048,0.0057,0.0067,0.0071,0.0071,0.0076,0.0086,0.0109,0.0124,0.0143,0.0181,0.0228,0.0299,0.0399,0.0508,0.0665,0.0812,0.0983,0.1211,0.1449,0.1667,0.1967,0.2223,0.2466,0.2774,0.3074,0.3363,0.3686,0.4024,0.4366,0.4632,0.4955,0.523,0.5558,0.5786,0.6048,0.6356,0.6637,0.6888,0.7097,0.7292,0.7511,0.7758,0.7986,0.8181,0.8323,0.8508,0.8656,0.8789,0.8941,0.9055,0.9169,0.9273,0.9392,0.9477,0.9544,0.9591,0.9639,0.9682,0.9758,0.98,0.9834,0.9862,0.9891,0.991,0.9948,0.9962,0.9967,0.9976,0.9981,0.9986,0.9986,0.9986,0.9986,0.9986,0.9986,0.999,0.999,0.9995,1,1,1,1];
female_cdf = [0.0013,0.003,0.0059,0.0089,0.0123,0.0171,0.0237,0.032,0.0431,0.0578,0.0758,0.0934,0.1153,0.1373,0.1667,0.1946,0.2274,0.2607,0.2897,0.3218,0.3559,0.3876,0.4191,0.4491,0.4769,0.5095,0.5368,0.5636,0.5884,0.613,0.6361,0.6622,0.6839,0.7039,0.7243,0.7438,0.76,0.7764,0.7929,0.8074,0.819,0.83,0.8395,0.8494,0.8612,0.8719,0.8805,0.8898,0.8978,0.9052,0.9113,0.9189,0.9243,0.9299,0.9358,0.9418,0.9468,0.9526,0.9597,0.9637,0.9683,0.9706,0.9733,0.9759,0.9783,0.9814,0.9837,0.986,0.9877,0.9897,0.9913,0.9929,0.9939,0.9951,0.9961,0.9967,0.9973,0.9981,0.9986,0.9991,0.9996,0.9997,0.9997,0.9997,0.9999,0.9999,0.9999,0.9999,1];
male_cdf = [6e-04,0.0018,0.0027,0.0039,0.0055,0.0073,0.0097,0.0115,0.0144,0.0179,0.023,0.0288,0.0374,0.0462,0.0564,0.0699,0.0864,0.1022,0.1182,0.1363,0.1564,0.1773,0.2005,0.2258,0.251,0.2784,0.3059,0.3329,0.3616,0.3902,0.4175,0.4481,0.4745,0.502,0.5299,0.5551,0.5783,0.6037,0.6288,0.6499,0.6727,0.6912,0.7115,0.7307,0.7487,0.766,0.7828,0.7993,0.8142,0.828,0.8429,0.8559,0.8666,0.8787,0.8894,0.9006,0.91,0.9181,0.9272,0.9353,0.9444,0.9518,0.9581,0.9652,0.9709,0.9755,0.9793,0.9831,0.9859,0.989,0.9911,0.9926,0.9941,0.9955,0.9963,0.9969,0.9972,0.9979,0.9984,0.9986,0.9987,0.9991,0.9992,0.9993,0.9996,0.9996,0.9997,0.9999,1];
chart.series[0].setData(dir_cdf);
chart.series[1].setData(male_cdf);
chart.series[2].setData(female_cdf);

$("#update_age_series").html("Show Density");

};

show_cdf = !show_cdf

}); 
});

</script>
</div>
</div>

  
</ul>
</main>
  <footer> 
    <footer id="footer">
    <nav>
      <ul>
        <li><span>Tom Bish</span></li>
        <li>
          <a href="/company/">Company</a>
        </li>
        <li>
          <a href="/blog/">Blog</a>
        </li>
          <li>
          <a href="/docs/">Docs</a>
        </li>
        <li>
          <a href="http://twitter.com/bigbishdog">Check me out on Twitter</a>
        </li>
      </ul>
    </nav>
  </footer> 
</footer>


  <script src="/js/kube.js" type="text/javascript">
  </script>
  <script src="/js/kube.legenda.js" type="text/javascript">
  </script>
  <script src="/js/master.js" type="text/javascript">
  </script>
</body>

</html>
